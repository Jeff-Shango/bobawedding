{"ast":null,"code":"var _objectWithoutProperties = require(\"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectWithoutProperties\");\nvar base64url = require('base64url');\nvar debug = require('../debug')('getLoginState');\n\n/**\n * Generate the state value for use during login transactions. It is used to store the intended\n * return URL after the user authenticates. State is not used to carry unique PRNG values here\n * because the library utilizes either nonce or PKCE for CSRF protection.\n *\n * @param {RequestHandler} req\n * @param {object} options\n *\n * @return {object}\n */\nfunction defaultState(req, options) {\n  var state = {\n    returnTo: options.returnTo || req.originalUrl\n  };\n  debug('adding default state %O', state);\n  return state;\n}\n\n/**\n * Prepare a state object to send.\n *\n * @param {object} stateObject\n *\n * @return {string}\n */\nfunction encodeState() {\n  var stateObject = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  // this filters out nonce, code_verifier, and max_age from the state object so that the values are\n  // only stored in its dedicated transient cookie\n  var nonce = stateObject.nonce,\n    code_verifier = stateObject.code_verifier,\n    max_age = stateObject.max_age,\n    filteredState = _objectWithoutProperties(stateObject, [\"nonce\", \"code_verifier\", \"max_age\"]); // eslint-disable-line no-unused-vars\n  return base64url.encode(JSON.stringify(filteredState));\n}\n\n/**\n * Decode a state value.\n *\n * @param {string} stateValue\n *\n * @return {object}\n */\nfunction decodeState(stateValue) {\n  try {\n    return JSON.parse(base64url.decode(stateValue));\n  } catch (e) {\n    return false;\n  }\n}\nmodule.exports.defaultState = defaultState;\nmodule.exports.encodeState = encodeState;\nmodule.exports.decodeState = decodeState;","map":null,"metadata":{},"sourceType":"script"}