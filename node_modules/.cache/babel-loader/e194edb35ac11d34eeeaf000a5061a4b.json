{"ast":null,"code":"\"use strict\";\n\nimport _objectSpread from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WriteConcern = exports.WRITE_CONCERN_KEYS = void 0;\nexports.WRITE_CONCERN_KEYS = ['w', 'wtimeout', 'j', 'journal', 'fsync'];\n/**\n * A MongoDB WriteConcern, which describes the level of acknowledgement\n * requested from MongoDB for write operations.\n * @public\n *\n * @see https://www.mongodb.com/docs/manual/reference/write-concern/\n */\nvar WriteConcern = /*#__PURE__*/function () {\n  /**\n   * Constructs a WriteConcern from the write concern properties.\n   * @param w - request acknowledgment that the write operation has propagated to a specified number of mongod instances or to mongod instances with specified tags.\n   * @param wtimeoutMS - specify a time limit to prevent write operations from blocking indefinitely\n   * @param journal - request acknowledgment that the write operation has been written to the on-disk journal\n   * @param fsync - equivalent to the j option. Is deprecated and will be removed in the next major version.\n   */\n  function WriteConcern(w, wtimeoutMS, journal, fsync) {\n    _classCallCheck(this, WriteConcern);\n    if (w != null) {\n      if (!Number.isNaN(Number(w))) {\n        this.w = Number(w);\n      } else {\n        this.w = w;\n      }\n    }\n    if (wtimeoutMS != null) {\n      this.wtimeoutMS = this.wtimeout = wtimeoutMS;\n    }\n    if (journal != null) {\n      this.journal = this.j = journal;\n    }\n    if (fsync != null) {\n      this.journal = this.j = fsync ? true : false;\n    }\n  }\n  /**\n   * Apply a write concern to a command document. Will modify and return the command.\n   */\n  _createClass(WriteConcern, null, [{\n    key: \"apply\",\n    value: function apply(command, writeConcern) {\n      var wc = {};\n      // The write concern document sent to the server has w/wtimeout/j fields.\n      if (writeConcern.w != null) wc.w = writeConcern.w;\n      if (writeConcern.wtimeoutMS != null) wc.wtimeout = writeConcern.wtimeoutMS;\n      if (writeConcern.journal != null) wc.j = writeConcern.j;\n      command.writeConcern = wc;\n      return command;\n    } /** Construct a WriteConcern given an options object. */\n  }, {\n    key: \"fromOptions\",\n    value: function fromOptions(options, inherit) {\n      if (options == null) return undefined;\n      inherit = inherit ?? {};\n      var opts;\n      if (typeof options === 'string' || typeof options === 'number') {\n        opts = {\n          w: options\n        };\n      } else if (options instanceof WriteConcern) {\n        opts = options;\n      } else {\n        opts = options.writeConcern;\n      }\n      var parentOpts = inherit instanceof WriteConcern ? inherit : inherit.writeConcern;\n      var _parentOpts$opts = _objectSpread({}, parentOpts, opts),\n        _parentOpts$opts$w = _parentOpts$opts.w,\n        w = _parentOpts$opts$w === void 0 ? undefined : _parentOpts$opts$w,\n        _parentOpts$opts$wtim = _parentOpts$opts.wtimeout,\n        wtimeout = _parentOpts$opts$wtim === void 0 ? undefined : _parentOpts$opts$wtim,\n        _parentOpts$opts$j = _parentOpts$opts.j,\n        j = _parentOpts$opts$j === void 0 ? undefined : _parentOpts$opts$j,\n        _parentOpts$opts$fsyn = _parentOpts$opts.fsync,\n        fsync = _parentOpts$opts$fsyn === void 0 ? undefined : _parentOpts$opts$fsyn,\n        _parentOpts$opts$jour = _parentOpts$opts.journal,\n        journal = _parentOpts$opts$jour === void 0 ? undefined : _parentOpts$opts$jour,\n        _parentOpts$opts$wtim2 = _parentOpts$opts.wtimeoutMS,\n        wtimeoutMS = _parentOpts$opts$wtim2 === void 0 ? undefined : _parentOpts$opts$wtim2;\n      if (w != null || wtimeout != null || wtimeoutMS != null || j != null || journal != null || fsync != null) {\n        return new WriteConcern(w, wtimeout ?? wtimeoutMS, j ?? journal, fsync);\n      }\n      return undefined;\n    }\n  }]);\n  return WriteConcern;\n}();\nexports.WriteConcern = WriteConcern;","map":{"version":3,"names":["exports","WRITE_CONCERN_KEYS","WriteConcern","w","wtimeoutMS","journal","fsync","_classCallCheck","Number","isNaN","wtimeout","j","_createClass","key","value","apply","command","writeConcern","wc","fromOptions","options","inherit","undefined","opts","parentOpts","_parentOpts$opts","_objectSpread","_parentOpts$opts$w","_parentOpts$opts$wtim","_parentOpts$opts$j","_parentOpts$opts$fsyn","_parentOpts$opts$jour","_parentOpts$opts$wtim2"],"sources":["../src/write_concern.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}