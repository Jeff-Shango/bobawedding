{"ast":null,"code":"\"use strict\";\n\nimport _asyncToGenerator from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _possibleConstructorReturn from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _get from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _toArray from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray\";\nimport _classCallCheck from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _objectSpread from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == typeof h && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator.return && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(typeof e + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.request = exports.matchesParentDomain = exports.parseUnsignedInteger = exports.parseInteger = exports.compareObjectId = exports.commandSupportsReadConcern = exports.shuffle = exports.supportsRetryableWrites = exports.enumToString = exports.emitWarningOnce = exports.emitWarning = exports.MONGODB_WARNING_CODE = exports.DEFAULT_PK_FACTORY = exports.HostAddress = exports.BufferPool = exports.List = exports.deepCopy = exports.isRecord = exports.setDifference = exports.isHello = exports.isSuperset = exports.resolveOptions = exports.hasAtomicOperators = exports.calculateDurationInMs = exports.now = exports.makeStateMachine = exports.errorStrictEqual = exports.arrayStrictEqual = exports.eachAsync = exports.maxWireVersion = exports.uuidV4 = exports.databaseNamespace = exports.maybeCallback = exports.makeCounter = exports.MongoDBCollectionNamespace = exports.MongoDBNamespace = exports.ns = exports.getTopology = exports.decorateWithExplain = exports.decorateWithReadConcern = exports.decorateWithCollation = exports.isPromiseLike = exports.applyRetryableWrites = exports.filterOptions = exports.mergeOptions = exports.isObject = exports.normalizeHintField = exports.checkCollectionName = exports.hostMatchesWildcards = exports.ByteUtils = void 0;\nvar crypto = require(\"crypto\");\nvar http = require(\"http\");\nvar url = require(\"url\");\nvar url_1 = require(\"url\");\nvar bson_1 = require(\"./bson\");\nvar constants_1 = require(\"./cmap/wire_protocol/constants\");\nvar constants_2 = require(\"./constants\");\nvar error_1 = require(\"./error\");\nvar read_concern_1 = require(\"./read_concern\");\nvar read_preference_1 = require(\"./read_preference\");\nvar common_1 = require(\"./sdam/common\");\nvar write_concern_1 = require(\"./write_concern\");\nexports.ByteUtils = {\n  toLocalBufferType: function toLocalBufferType(buffer) {\n    return Buffer.isBuffer(buffer) ? buffer : Buffer.from(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n  },\n  equals: function equals(seqA, seqB) {\n    return exports.ByteUtils.toLocalBufferType(seqA).equals(seqB);\n  },\n  compare: function compare(seqA, seqB) {\n    return exports.ByteUtils.toLocalBufferType(seqA).compare(seqB);\n  },\n  toBase64: function toBase64(uint8array) {\n    return exports.ByteUtils.toLocalBufferType(uint8array).toString('base64');\n  }\n};\n/**\n * Determines if a connection's address matches a user provided list\n * of domain wildcards.\n */\nfunction hostMatchesWildcards(host, wildcards) {\n  var _iterator = _createForOfIteratorHelper(wildcards),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var wildcard = _step.value;\n      if (host === wildcard || wildcard.startsWith('*.') && host?.endsWith(wildcard.substring(2, wildcard.length)) || wildcard.startsWith('*/') && host?.endsWith(wildcard.substring(2, wildcard.length))) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return false;\n}\nexports.hostMatchesWildcards = hostMatchesWildcards;\n/**\n * Throws if collectionName is not a valid mongodb collection namespace.\n * @internal\n */\nfunction checkCollectionName(collectionName) {\n  if ('string' !== typeof collectionName) {\n    throw new error_1.MongoInvalidArgumentError('Collection name must be a String');\n  }\n  if (!collectionName || collectionName.indexOf('..') !== -1) {\n    throw new error_1.MongoInvalidArgumentError('Collection names cannot be empty');\n  }\n  if (collectionName.indexOf('$') !== -1 && collectionName.match(/((^\\$cmd)|(oplog\\.\\$main))/) == null) {\n    // TODO(NODE-3483): Use MongoNamespace static method\n    throw new error_1.MongoInvalidArgumentError(\"Collection names must not contain '$'\");\n  }\n  if (collectionName.match(/^\\.|\\.$/) != null) {\n    // TODO(NODE-3483): Use MongoNamespace static method\n    throw new error_1.MongoInvalidArgumentError(\"Collection names must not start or end with '.'\");\n  }\n  // Validate that we are not passing 0x00 in the collection name\n  if (collectionName.indexOf('\\x00') !== -1) {\n    // TODO(NODE-3483): Use MongoNamespace static method\n    throw new error_1.MongoInvalidArgumentError('Collection names cannot contain a null character');\n  }\n}\nexports.checkCollectionName = checkCollectionName;\n/**\n * Ensure Hint field is in a shape we expect:\n * - object of index names mapping to 1 or -1\n * - just an index name\n * @internal\n */\nfunction normalizeHintField(hint) {\n  var finalHint = undefined;\n  if (typeof hint === 'string') {\n    finalHint = hint;\n  } else if (Array.isArray(hint)) {\n    finalHint = {};\n    hint.forEach(function (param) {\n      finalHint[param] = 1;\n    });\n  } else if (hint != null && typeof hint === 'object') {\n    finalHint = {};\n    for (var name in hint) {\n      finalHint[name] = hint[name];\n    }\n  }\n  return finalHint;\n}\nexports.normalizeHintField = normalizeHintField;\nvar TO_STRING = function TO_STRING(object) {\n  return Object.prototype.toString.call(object);\n};\n/**\n * Checks if arg is an Object:\n * - **NOTE**: the check is based on the `[Symbol.toStringTag]() === 'Object'`\n * @internal\n */\nfunction isObject(arg) {\n  return '[object Object]' === TO_STRING(arg);\n}\nexports.isObject = isObject;\n/** @internal */\nfunction mergeOptions(target, source) {\n  return _objectSpread({}, target, source);\n}\nexports.mergeOptions = mergeOptions;\n/** @internal */\nfunction filterOptions(options, names) {\n  var filterOptions = {};\n  for (var name in options) {\n    if (names.includes(name)) {\n      filterOptions[name] = options[name];\n    }\n  }\n  // Filtered options\n  return filterOptions;\n}\nexports.filterOptions = filterOptions;\n/**\n * Applies retryWrites: true to a command if retryWrites is set on the command's database.\n * @internal\n *\n * @param target - The target command to which we will apply retryWrites.\n * @param db - The database from which we can inherit a retryWrites value.\n */\nfunction applyRetryableWrites(target, db) {\n  if (db && db.s.options?.retryWrites) {\n    target.retryWrites = true;\n  }\n  return target;\n}\nexports.applyRetryableWrites = applyRetryableWrites;\n/**\n * Applies a write concern to a command based on well defined inheritance rules, optionally\n * detecting support for the write concern in the first place.\n * @internal\n *\n * @param target - the target command we will be applying the write concern to\n * @param sources - sources where we can inherit default write concerns from\n * @param options - optional settings passed into a command for write concern overrides\n */\n/**\n * Checks if a given value is a Promise\n *\n * @typeParam T - The resolution type of the possible promise\n * @param value - An object that could be a promise\n * @returns true if the provided value is a Promise\n */\nfunction isPromiseLike(value) {\n  return !!value && typeof value.then === 'function';\n}\nexports.isPromiseLike = isPromiseLike;\n/**\n * Applies collation to a given command.\n * @internal\n *\n * @param command - the command on which to apply collation\n * @param target - target of command\n * @param options - options containing collation settings\n */\nfunction decorateWithCollation(command, target, options) {\n  var capabilities = getTopology(target).capabilities;\n  if (options.collation && typeof options.collation === 'object') {\n    if (capabilities && capabilities.commandsTakeCollation) {\n      command.collation = options.collation;\n    } else {\n      throw new error_1.MongoCompatibilityError(\"Current topology does not support collation\");\n    }\n  }\n}\nexports.decorateWithCollation = decorateWithCollation;\n/**\n * Applies a read concern to a given command.\n * @internal\n *\n * @param command - the command on which to apply the read concern\n * @param coll - the parent collection of the operation calling this method\n */\nfunction decorateWithReadConcern(command, coll, options) {\n  if (options && options.session && options.session.inTransaction()) {\n    return;\n  }\n  var readConcern = Object.assign({}, command.readConcern || {});\n  if (coll.s.readConcern) {\n    Object.assign(readConcern, coll.s.readConcern);\n  }\n  if (Object.keys(readConcern).length > 0) {\n    Object.assign(command, {\n      readConcern: readConcern\n    });\n  }\n}\nexports.decorateWithReadConcern = decorateWithReadConcern;\n/**\n * Applies an explain to a given command.\n * @internal\n *\n * @param command - the command on which to apply the explain\n * @param options - the options containing the explain verbosity\n */\nfunction decorateWithExplain(command, explain) {\n  if (command.explain) {\n    return command;\n  }\n  return {\n    explain: command,\n    verbosity: explain.verbosity\n  };\n}\nexports.decorateWithExplain = decorateWithExplain;\n/**\n * A helper function to get the topology from a given provider. Throws\n * if the topology cannot be found.\n * @throws MongoNotConnectedError\n * @internal\n */\nfunction getTopology(provider) {\n  // MongoClient or ClientSession or AbstractCursor\n  if ('topology' in provider && provider.topology) {\n    return provider.topology;\n  } else if ('client' in provider && provider.client.topology) {\n    return provider.client.topology;\n  }\n  throw new error_1.MongoNotConnectedError('MongoClient must be connected to perform this operation');\n}\nexports.getTopology = getTopology;\n/** @internal */\nfunction ns(ns) {\n  return MongoDBNamespace.fromString(ns);\n}\nexports.ns = ns;\n/** @public */\nvar MongoDBNamespace = /*#__PURE__*/function () {\n  /**\n   * Create a namespace object\n   *\n   * @param db - database name\n   * @param collection - collection name\n   */\n  function MongoDBNamespace(db, collection) {\n    _classCallCheck(this, MongoDBNamespace);\n    this.db = db;\n    this.collection = collection;\n    this.collection = collection === '' ? undefined : collection;\n  }\n  _createClass(MongoDBNamespace, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.collection ? \"\".concat(this.db, \".\").concat(this.collection) : this.db;\n    }\n  }, {\n    key: \"withCollection\",\n    value: function withCollection(collection) {\n      return new MongoDBCollectionNamespace(this.db, collection);\n    }\n  }], [{\n    key: \"fromString\",\n    value: function fromString(namespace) {\n      if (typeof namespace !== 'string' || namespace === '') {\n        // TODO(NODE-3483): Replace with MongoNamespaceError\n        throw new error_1.MongoRuntimeError(\"Cannot parse namespace from \\\"\".concat(namespace, \"\\\"\"));\n      }\n      var _namespace$split = namespace.split('.'),\n        _namespace$split2 = _toArray(_namespace$split),\n        db = _namespace$split2[0],\n        collectionParts = _namespace$split2.slice(1);\n      var collection = collectionParts.join('.');\n      return new MongoDBNamespace(db, collection === '' ? undefined : collection);\n    }\n  }]);\n  return MongoDBNamespace;\n}();\nexports.MongoDBNamespace = MongoDBNamespace;\n/**\n * @public\n *\n * A class representing a collection's namespace.  This class enforces (through Typescript) that\n * the `collection` portion of the namespace is defined and should only be\n * used in scenarios where this can be guaranteed.\n */\nvar MongoDBCollectionNamespace = /*#__PURE__*/function (_MongoDBNamespace) {\n  _inherits(MongoDBCollectionNamespace, _MongoDBNamespace);\n  function MongoDBCollectionNamespace(db, collection) {\n    var _this;\n    _classCallCheck(this, MongoDBCollectionNamespace);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MongoDBCollectionNamespace).call(this, db, collection));\n    _this.collection = collection;\n    return _this;\n  }\n  _createClass(MongoDBCollectionNamespace, null, [{\n    key: \"fromString\",\n    value: function fromString(namespace) {\n      return _get(_getPrototypeOf(MongoDBCollectionNamespace), \"fromString\", this).call(this, namespace);\n    }\n  }]);\n  return MongoDBCollectionNamespace;\n}(MongoDBNamespace);\nexports.MongoDBCollectionNamespace = MongoDBCollectionNamespace;\n/** @internal */\nfunction makeCounter() {\n  var seed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var count, newCount;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          count = seed;\n        case 1:\n          if (!true) {\n            _context.next = 8;\n            break;\n          }\n          newCount = count;\n          count += 1;\n          _context.next = 6;\n          return newCount;\n        case 6:\n          _context.next = 1;\n          break;\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  })();\n}\nexports.makeCounter = makeCounter;\nfunction maybeCallback(promiseFn, callback) {\n  var promise = promiseFn();\n  if (callback == null) {\n    return promise;\n  }\n  promise.then(function (result) {\n    return callback(undefined, result);\n  }, function (error) {\n    return callback(error);\n  });\n  return;\n}\nexports.maybeCallback = maybeCallback;\n/** @internal */\nfunction databaseNamespace(ns) {\n  return ns.split('.')[0];\n}\nexports.databaseNamespace = databaseNamespace;\n/**\n * Synchronously Generate a UUIDv4\n * @internal\n */\nfunction uuidV4() {\n  var result = crypto.randomBytes(16);\n  result[6] = result[6] & 0x0f | 0x40;\n  result[8] = result[8] & 0x3f | 0x80;\n  return result;\n}\nexports.uuidV4 = uuidV4;\n/**\n * A helper function for determining `maxWireVersion` between legacy and new topology instances\n * @internal\n */\nfunction maxWireVersion(topologyOrServer) {\n  if (topologyOrServer) {\n    if (topologyOrServer.loadBalanced) {\n      // Since we do not have a monitor, we assume the load balanced server is always\n      // pointed at the latest mongodb version. There is a risk that for on-prem\n      // deployments that don't upgrade immediately that this could alert to the\n      // application that a feature is available that is actually not.\n      return constants_1.MAX_SUPPORTED_WIRE_VERSION;\n    }\n    if (topologyOrServer.hello) {\n      return topologyOrServer.hello.maxWireVersion;\n    }\n    if ('lastHello' in topologyOrServer && typeof topologyOrServer.lastHello === 'function') {\n      var lastHello = topologyOrServer.lastHello();\n      if (lastHello) {\n        return lastHello.maxWireVersion;\n      }\n    }\n    if (topologyOrServer.description && 'maxWireVersion' in topologyOrServer.description && topologyOrServer.description.maxWireVersion != null) {\n      return topologyOrServer.description.maxWireVersion;\n    }\n  }\n  return 0;\n}\nexports.maxWireVersion = maxWireVersion;\n/**\n * Applies the function `eachFn` to each item in `arr`, in parallel.\n * @internal\n *\n * @param arr - An array of items to asynchronously iterate over\n * @param eachFn - A function to call on each item of the array. The callback signature is `(item, callback)`, where the callback indicates iteration is complete.\n * @param callback - The callback called after every item has been iterated\n */\nfunction eachAsync(arr, eachFn, callback) {\n  arr = arr || [];\n  var idx = 0;\n  var awaiting = 0;\n  for (idx = 0; idx < arr.length; ++idx) {\n    awaiting++;\n    eachFn(arr[idx], eachCallback);\n  }\n  if (awaiting === 0) {\n    callback();\n    return;\n  }\n  function eachCallback(err) {\n    awaiting--;\n    if (err) {\n      callback(err);\n      return;\n    }\n    if (idx === arr.length && awaiting <= 0) {\n      callback();\n    }\n  }\n}\nexports.eachAsync = eachAsync;\n/** @internal */\nfunction arrayStrictEqual(arr, arr2) {\n  if (!Array.isArray(arr) || !Array.isArray(arr2)) {\n    return false;\n  }\n  return arr.length === arr2.length && arr.every(function (elt, idx) {\n    return elt === arr2[idx];\n  });\n}\nexports.arrayStrictEqual = arrayStrictEqual;\n/** @internal */\nfunction errorStrictEqual(lhs, rhs) {\n  if (lhs === rhs) {\n    return true;\n  }\n  if (!lhs || !rhs) {\n    return lhs === rhs;\n  }\n  if (lhs == null && rhs != null || lhs != null && rhs == null) {\n    return false;\n  }\n  if (lhs.constructor.name !== rhs.constructor.name) {\n    return false;\n  }\n  if (lhs.message !== rhs.message) {\n    return false;\n  }\n  return true;\n}\nexports.errorStrictEqual = errorStrictEqual;\n/** @internal */\nfunction makeStateMachine(stateTable) {\n  return function stateTransition(target, newState) {\n    var legalStates = stateTable[target.s.state];\n    if (legalStates && legalStates.indexOf(newState) < 0) {\n      throw new error_1.MongoRuntimeError(\"illegal state transition from [\".concat(target.s.state, \"] => [\").concat(newState, \"], allowed: [\").concat(legalStates, \"]\"));\n    }\n    target.emit('stateChanged', target.s.state, newState);\n    target.s.state = newState;\n  };\n}\nexports.makeStateMachine = makeStateMachine;\n/** @internal */\nfunction now() {\n  var hrtime = process.hrtime();\n  return Math.floor(hrtime[0] * 1000 + hrtime[1] / 1000000);\n}\nexports.now = now;\n/** @internal */\nfunction calculateDurationInMs(started) {\n  if (typeof started !== 'number') {\n    throw new error_1.MongoInvalidArgumentError('Numeric value required to calculate duration');\n  }\n  var elapsed = now() - started;\n  return elapsed < 0 ? 0 : elapsed;\n}\nexports.calculateDurationInMs = calculateDurationInMs;\n/** @internal */\nfunction hasAtomicOperators(doc) {\n  if (Array.isArray(doc)) {\n    var _iterator2 = _createForOfIteratorHelper(doc),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var document = _step2.value;\n        if (hasAtomicOperators(document)) {\n          return true;\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    return false;\n  }\n  var keys = Object.keys(doc);\n  return keys.length > 0 && keys[0][0] === '$';\n}\nexports.hasAtomicOperators = hasAtomicOperators;\n/**\n * Merge inherited properties from parent into options, prioritizing values from options,\n * then values from parent.\n * @internal\n */\nfunction resolveOptions(parent, options) {\n  var result = Object.assign({}, options, (0, bson_1.resolveBSONOptions)(options, parent));\n  // Users cannot pass a readConcern/writeConcern to operations in a transaction\n  var session = options?.session;\n  if (!session?.inTransaction()) {\n    var readConcern = read_concern_1.ReadConcern.fromOptions(options) ?? parent?.readConcern;\n    if (readConcern) {\n      result.readConcern = readConcern;\n    }\n    var writeConcern = write_concern_1.WriteConcern.fromOptions(options) ?? parent?.writeConcern;\n    if (writeConcern) {\n      result.writeConcern = writeConcern;\n    }\n  }\n  var readPreference = read_preference_1.ReadPreference.fromOptions(options) ?? parent?.readPreference;\n  if (readPreference) {\n    result.readPreference = readPreference;\n  }\n  return result;\n}\nexports.resolveOptions = resolveOptions;\nfunction isSuperset(set, subset) {\n  set = Array.isArray(set) ? new Set(set) : set;\n  subset = Array.isArray(subset) ? new Set(subset) : subset;\n  var _iterator3 = _createForOfIteratorHelper(subset),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var elem = _step3.value;\n      if (!set.has(elem)) {\n        return false;\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n  return true;\n}\nexports.isSuperset = isSuperset;\n/**\n * Checks if the document is a Hello request\n * @internal\n */\nfunction isHello(doc) {\n  return doc[constants_2.LEGACY_HELLO_COMMAND] || doc.hello ? true : false;\n}\nexports.isHello = isHello;\n/** Returns the items that are uniquely in setA */\nfunction setDifference(setA, setB) {\n  var difference = new Set(setA);\n  var _iterator4 = _createForOfIteratorHelper(setB),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var elem = _step4.value;\n      difference.delete(elem);\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  return difference;\n}\nexports.setDifference = setDifference;\nvar HAS_OWN = function HAS_OWN(object, prop) {\n  return Object.prototype.hasOwnProperty.call(object, prop);\n};\nfunction isRecord(value) {\n  var requiredKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  if (!isObject(value)) {\n    return false;\n  }\n  var ctor = value.constructor;\n  if (ctor && ctor.prototype) {\n    if (!isObject(ctor.prototype)) {\n      return false;\n    }\n    // Check to see if some method exists from the Object exists\n    if (!HAS_OWN(ctor.prototype, 'isPrototypeOf')) {\n      return false;\n    }\n  }\n  if (requiredKeys) {\n    var keys = Object.keys(value);\n    return isSuperset(keys, requiredKeys);\n  }\n  return true;\n}\nexports.isRecord = isRecord;\n/**\n * Make a deep copy of an object\n *\n * NOTE: This is not meant to be the perfect implementation of a deep copy,\n * but instead something that is good enough for the purposes of\n * command monitoring.\n */\nfunction deepCopy(value) {\n  if (value == null) {\n    return value;\n  } else if (Array.isArray(value)) {\n    return value.map(function (item) {\n      return deepCopy(item);\n    });\n  } else if (isRecord(value)) {\n    var res = {};\n    for (var key in value) {\n      res[key] = deepCopy(value[key]);\n    }\n    return res;\n  }\n  var ctor = value.constructor;\n  if (ctor) {\n    switch (ctor.name.toLowerCase()) {\n      case 'date':\n        return new ctor(Number(value));\n      case 'map':\n        return new Map(value);\n      case 'set':\n        return new Set(value);\n      case 'buffer':\n        return Buffer.from(value);\n    }\n  }\n  return value;\n}\nexports.deepCopy = deepCopy;\n/**\n * A sequential list of items in a circularly linked list\n * @remarks\n * The head node is special, it is always defined and has a value of null.\n * It is never \"included\" in the list, in that, it is not returned by pop/shift or yielded by the iterator.\n * The circular linkage and always defined head node are to reduce checks for null next/prev references to zero.\n * New nodes are declared as object literals with keys always in the same order: next, prev, value.\n * @internal\n */\nvar List = /*#__PURE__*/function () {\n  _createClass(List, [{\n    key: \"length\",\n    get: function get() {\n      return this.count;\n    }\n  }, {\n    key: Symbol.toStringTag,\n    get: function get() {\n      return 'List';\n    }\n  }]);\n  function List() {\n    _classCallCheck(this, List);\n    this.count = 0;\n    // this is carefully crafted:\n    // declaring a complete and consistently key ordered\n    // object is beneficial to the runtime optimizations\n    this.head = {\n      next: null,\n      prev: null,\n      value: null\n    };\n    this.head.next = this.head;\n    this.head.prev = this.head;\n  }\n  _createClass(List, [{\n    key: \"toArray\",\n    value: function toArray() {\n      return Array.from(this);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"head <=> \".concat(this.toArray().join(' <=> '), \" <=> head\");\n    }\n  }, {\n    key: Symbol.iterator,\n    value: /*#__PURE__*/_regeneratorRuntime().mark(function value() {\n      var _iterator5, _step5, node;\n      return _regeneratorRuntime().wrap(function value$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _iterator5 = _createForOfIteratorHelper(this.nodes());\n            _context2.prev = 1;\n            _iterator5.s();\n          case 3:\n            if ((_step5 = _iterator5.n()).done) {\n              _context2.next = 9;\n              break;\n            }\n            node = _step5.value;\n            _context2.next = 7;\n            return node.value;\n          case 7:\n            _context2.next = 3;\n            break;\n          case 9:\n            _context2.next = 14;\n            break;\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](1);\n            _iterator5.e(_context2.t0);\n          case 14:\n            _context2.prev = 14;\n            _iterator5.f();\n            return _context2.finish(14);\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, value, this, [[1, 11, 14, 17]]);\n    })\n  }, {\n    key: \"nodes\",\n    value: /*#__PURE__*/_regeneratorRuntime().mark(function nodes() {\n      var ptr, _ptr, next;\n      return _regeneratorRuntime().wrap(function nodes$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            ptr = this.head.next;\n          case 1:\n            if (!(ptr !== this.head)) {\n              _context3.next = 8;\n              break;\n            }\n            // Save next before yielding so that we make removing within iteration safe\n            _ptr = ptr, next = _ptr.next;\n            _context3.next = 5;\n            return ptr;\n          case 5:\n            ptr = next;\n            _context3.next = 1;\n            break;\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, nodes, this);\n    }) /** Insert at end of list */\n  }, {\n    key: \"push\",\n    value: function push(value) {\n      this.count += 1;\n      var newNode = {\n        next: this.head,\n        prev: this.head.prev,\n        value: value\n      };\n      this.head.prev.next = newNode;\n      this.head.prev = newNode;\n    } /** Inserts every item inside an iterable instead of the iterable itself */\n  }, {\n    key: \"pushMany\",\n    value: function pushMany(iterable) {\n      var _iterator6 = _createForOfIteratorHelper(iterable),\n        _step6;\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var _value = _step6.value;\n          this.push(_value);\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n    } /** Insert at front of list */\n  }, {\n    key: \"unshift\",\n    value: function unshift(value) {\n      this.count += 1;\n      var newNode = {\n        next: this.head.next,\n        prev: this.head,\n        value: value\n      };\n      this.head.next.prev = newNode;\n      this.head.next = newNode;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(node) {\n      if (node === this.head || this.length === 0) {\n        return null;\n      }\n      this.count -= 1;\n      var prevNode = node.prev;\n      var nextNode = node.next;\n      prevNode.next = nextNode;\n      nextNode.prev = prevNode;\n      return node.value;\n    } /** Removes the first node at the front of the list */\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      return this.remove(this.head.next);\n    } /** Removes the last node at the end of the list */\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      return this.remove(this.head.prev);\n    } /** Iterates through the list and removes nodes where filter returns true */\n  }, {\n    key: \"prune\",\n    value: function prune(filter) {\n      var _iterator7 = _createForOfIteratorHelper(this.nodes()),\n        _step7;\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var node = _step7.value;\n          if (filter(node.value)) {\n            this.remove(node);\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.count = 0;\n      this.head.next = this.head;\n      this.head.prev = this.head;\n    } /** Returns the first item in the list, does not remove */\n  }, {\n    key: \"first\",\n    value: function first() {\n      // If the list is empty, value will be the head's null\n      return this.head.next.value;\n    } /** Returns the last item in the list, does not remove */\n  }, {\n    key: \"last\",\n    value: function last() {\n      // If the list is empty, value will be the head's null\n      return this.head.prev.value;\n    }\n  }]);\n  return List;\n}();\nexports.List = List;\n/**\n * A pool of Buffers which allow you to read them as if they were one\n * @internal\n */\nvar BufferPool = /*#__PURE__*/function () {\n  function BufferPool() {\n    _classCallCheck(this, BufferPool);\n    this.buffers = new List();\n    this.totalByteLength = 0;\n  }\n  _createClass(BufferPool, [{\n    key: \"append\",\n    /** Adds a buffer to the internal buffer pool list */value: function append(buffer) {\n      this.buffers.push(buffer);\n      this.totalByteLength += buffer.length;\n    }\n    /**\n     * If BufferPool contains 4 bytes or more construct an int32 from the leading bytes,\n     * otherwise return null. Size can be negative, caller should error check.\n     */\n  }, {\n    key: \"getInt32\",\n    value: function getInt32() {\n      if (this.totalByteLength < 4) {\n        return null;\n      }\n      var firstBuffer = this.buffers.first();\n      if (firstBuffer != null && firstBuffer.byteLength >= 4) {\n        return firstBuffer.readInt32LE(0);\n      }\n      // Unlikely case: an int32 is split across buffers.\n      // Use read and put the returned buffer back on top\n      var top4Bytes = this.read(4);\n      var value = top4Bytes.readInt32LE(0);\n      // Put it back.\n      this.totalByteLength += 4;\n      this.buffers.unshift(top4Bytes);\n      return value;\n    } /** Reads the requested number of bytes, optionally consuming them */\n  }, {\n    key: \"read\",\n    value: function read(size) {\n      if (typeof size !== 'number' || size < 0) {\n        throw new error_1.MongoInvalidArgumentError('Argument \"size\" must be a non-negative number');\n      }\n      // oversized request returns empty buffer\n      if (size > this.totalByteLength) {\n        return Buffer.alloc(0);\n      }\n      // We know we have enough, we just don't know how it is spread across chunks\n      // TODO(NODE-4732): alloc API should change based on raw option\n      var result = Buffer.allocUnsafe(size);\n      for (var bytesRead = 0; bytesRead < size;) {\n        var buffer = this.buffers.shift();\n        if (buffer == null) {\n          break;\n        }\n        var bytesRemaining = size - bytesRead;\n        var bytesReadable = Math.min(bytesRemaining, buffer.byteLength);\n        var bytes = buffer.subarray(0, bytesReadable);\n        result.set(bytes, bytesRead);\n        bytesRead += bytesReadable;\n        this.totalByteLength -= bytesReadable;\n        if (bytesReadable < buffer.byteLength) {\n          this.buffers.unshift(buffer.subarray(bytesReadable));\n        }\n      }\n      return result;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.totalByteLength;\n    }\n  }]);\n  return BufferPool;\n}();\nexports.BufferPool = BufferPool;\n/** @public */\nvar HostAddress = /*#__PURE__*/function () {\n  function HostAddress(hostString) {\n    _classCallCheck(this, HostAddress);\n    this.host = undefined;\n    this.port = undefined;\n    this.socketPath = undefined;\n    this.isIPv6 = false;\n    var escapedHost = hostString.split(' ').join('%20'); // escape spaces, for socket path hosts\n    if (escapedHost.endsWith('.sock')) {\n      // heuristically determine if we're working with a domain socket\n      this.socketPath = decodeURIComponent(escapedHost);\n      return;\n    }\n    var urlString = \"iLoveJS://\".concat(escapedHost);\n    var url;\n    try {\n      url = new url_1.URL(urlString);\n    } catch (urlError) {\n      var runtimeError = new error_1.MongoRuntimeError(\"Unable to parse \".concat(escapedHost, \" with URL\"));\n      runtimeError.cause = urlError;\n      throw runtimeError;\n    }\n    var hostname = url.hostname;\n    var port = url.port;\n    var normalized = decodeURIComponent(hostname).toLowerCase();\n    if (normalized.startsWith('[') && normalized.endsWith(']')) {\n      this.isIPv6 = true;\n      normalized = normalized.substring(1, hostname.length - 1);\n    }\n    this.host = normalized.toLowerCase();\n    if (typeof port === 'number') {\n      this.port = port;\n    } else if (typeof port === 'string' && port !== '') {\n      this.port = Number.parseInt(port, 10);\n    } else {\n      this.port = 27017;\n    }\n    if (this.port === 0) {\n      throw new error_1.MongoParseError('Invalid port (zero) with hostname');\n    }\n    Object.freeze(this);\n  }\n  _createClass(HostAddress, [{\n    key: Symbol.for('nodejs.util.inspect.custom'),\n    value: function value() {\n      return this.inspect();\n    }\n  }, {\n    key: \"inspect\",\n    value: function inspect() {\n      return \"new HostAddress('\".concat(this.toString(), \"')\");\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      if (typeof this.host === 'string') {\n        if (this.isIPv6) {\n          return \"[\".concat(this.host, \"]:\").concat(this.port);\n        }\n        return \"\".concat(this.host, \":\").concat(this.port);\n      }\n      return \"\".concat(this.socketPath);\n    }\n  }, {\n    key: \"toHostPort\",\n    value: function toHostPort() {\n      if (this.socketPath) {\n        return {\n          host: this.socketPath,\n          port: 0\n        };\n      }\n      var host = this.host ?? '';\n      var port = this.port ?? 0;\n      return {\n        host: host,\n        port: port\n      };\n    }\n  }], [{\n    key: \"fromString\",\n    value: function fromString(s) {\n      return new HostAddress(s);\n    }\n  }, {\n    key: \"fromHostPort\",\n    value: function fromHostPort(host, port) {\n      if (host.includes(':')) {\n        host = \"[\".concat(host, \"]\"); // IPv6 address\n      }\n\n      return HostAddress.fromString(\"\".concat(host, \":\").concat(port));\n    }\n  }, {\n    key: \"fromSrvRecord\",\n    value: function fromSrvRecord(_ref) {\n      var name = _ref.name,\n        port = _ref.port;\n      return HostAddress.fromHostPort(name, port);\n    }\n  }]);\n  return HostAddress;\n}();\nexports.HostAddress = HostAddress;\nexports.DEFAULT_PK_FACTORY = {\n  // We prefer not to rely on ObjectId having a createPk method\n  createPk: function createPk() {\n    return new bson_1.ObjectId();\n  }\n};\n/**\n * When the driver used emitWarning the code will be equal to this.\n * @public\n *\n * @example\n * ```ts\n * process.on('warning', (warning) => {\n *  if (warning.code === MONGODB_WARNING_CODE) console.error('Ah an important warning! :)')\n * })\n * ```\n */\nexports.MONGODB_WARNING_CODE = 'MONGODB DRIVER';\n/** @internal */\nfunction emitWarning(message) {\n  return process.emitWarning(message, {\n    code: exports.MONGODB_WARNING_CODE\n  });\n}\nexports.emitWarning = emitWarning;\nvar emittedWarnings = new Set();\n/**\n * Will emit a warning once for the duration of the application.\n * Uses the message to identify if it has already been emitted\n * so using string interpolation can cause multiple emits\n * @internal\n */\nfunction emitWarningOnce(message) {\n  if (!emittedWarnings.has(message)) {\n    emittedWarnings.add(message);\n    return emitWarning(message);\n  }\n}\nexports.emitWarningOnce = emitWarningOnce;\n/**\n * Takes a JS object and joins the values into a string separated by ', '\n */\nfunction enumToString(en) {\n  return Object.values(en).join(', ');\n}\nexports.enumToString = enumToString;\n/**\n * Determine if a server supports retryable writes.\n *\n * @internal\n */\nfunction supportsRetryableWrites(server) {\n  if (!server) {\n    return false;\n  }\n  if (server.loadBalanced) {\n    // Loadbalanced topologies will always support retry writes\n    return true;\n  }\n  if (server.description.logicalSessionTimeoutMinutes != null) {\n    // that supports sessions\n    if (server.description.type !== common_1.ServerType.Standalone) {\n      // and that is not a standalone\n      return true;\n    }\n  }\n  return false;\n}\nexports.supportsRetryableWrites = supportsRetryableWrites;\n/**\n * Fisherâ€“Yates Shuffle\n *\n * Reference: https://bost.ocks.org/mike/shuffle/\n * @param sequence - items to be shuffled\n * @param limit - Defaults to `0`. If nonzero shuffle will slice the randomized array e.g, `.slice(0, limit)` otherwise will return the entire randomized array.\n */\nfunction shuffle(sequence) {\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var items = Array.from(sequence); // shallow copy in order to never shuffle the input\n  if (limit > items.length) {\n    throw new error_1.MongoRuntimeError('Limit must be less than the number of items');\n  }\n  var remainingItemsToShuffle = items.length;\n  var lowerBound = limit % items.length === 0 ? 1 : items.length - limit;\n  while (remainingItemsToShuffle > lowerBound) {\n    // Pick a remaining element\n    var randomIndex = Math.floor(Math.random() * remainingItemsToShuffle);\n    remainingItemsToShuffle -= 1;\n    // And swap it with the current element\n    var swapHold = items[remainingItemsToShuffle];\n    items[remainingItemsToShuffle] = items[randomIndex];\n    items[randomIndex] = swapHold;\n  }\n  return limit % items.length === 0 ? items : items.slice(lowerBound);\n}\nexports.shuffle = shuffle;\n// TODO(NODE-4936): read concern eligibility for commands should be codified in command construction\n// @see https://github.com/mongodb/specifications/blob/master/source/read-write-concern/read-write-concern.rst#read-concern\nfunction commandSupportsReadConcern(command) {\n  if (command.aggregate || command.count || command.distinct || command.find || command.geoNear) {\n    return true;\n  }\n  return false;\n}\nexports.commandSupportsReadConcern = commandSupportsReadConcern;\n/**\n * Compare objectIds. `null` is always less\n * - `+1 = oid1 is greater than oid2`\n * - `-1 = oid1 is less than oid2`\n * - `+0 = oid1 is equal oid2`\n */\nfunction compareObjectId(oid1, oid2) {\n  if (oid1 == null && oid2 == null) {\n    return 0;\n  }\n  if (oid1 == null) {\n    return -1;\n  }\n  if (oid2 == null) {\n    return 1;\n  }\n  return exports.ByteUtils.compare(oid1.id, oid2.id);\n}\nexports.compareObjectId = compareObjectId;\nfunction parseInteger(value) {\n  if (typeof value === 'number') return Math.trunc(value);\n  var parsedValue = Number.parseInt(String(value), 10);\n  return Number.isNaN(parsedValue) ? null : parsedValue;\n}\nexports.parseInteger = parseInteger;\nfunction parseUnsignedInteger(value) {\n  var parsedInt = parseInteger(value);\n  return parsedInt != null && parsedInt >= 0 ? parsedInt : null;\n}\nexports.parseUnsignedInteger = parseUnsignedInteger;\n/**\n * Determines whether a provided address matches the provided parent domain.\n *\n * If a DNS server were to become compromised SRV records would still need to\n * advertise addresses that are under the same domain as the srvHost.\n *\n * @param address - The address to check against a domain\n * @param srvHost - The domain to check the provided address against\n * @returns Whether the provided address matches the parent domain\n */\nfunction matchesParentDomain(address, srvHost) {\n  // Remove trailing dot if exists on either the resolved address or the srv hostname\n  var normalizedAddress = address.endsWith('.') ? address.slice(0, address.length - 1) : address;\n  var normalizedSrvHost = srvHost.endsWith('.') ? srvHost.slice(0, srvHost.length - 1) : srvHost;\n  var allCharacterBeforeFirstDot = /^.*?\\./;\n  // Remove all characters before first dot\n  // Add leading dot back to string so\n  //   an srvHostDomain = '.trusted.site'\n  //   will not satisfy an addressDomain that endsWith '.fake-trusted.site'\n  var addressDomain = \".\".concat(normalizedAddress.replace(allCharacterBeforeFirstDot, ''));\n  var srvHostDomain = \".\".concat(normalizedSrvHost.replace(allCharacterBeforeFirstDot, ''));\n  return addressDomain.endsWith(srvHostDomain);\n}\nexports.matchesParentDomain = matchesParentDomain;\nfunction request(_x) {\n  return _request.apply(this, arguments);\n}\nfunction _request() {\n  _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(uri) {\n    var options,\n      _args4 = arguments;\n    return _regeneratorRuntime().wrap(function _callee2$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          options = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n          return _context4.abrupt(\"return\", new Promise(function (resolve, reject) {\n            var requestOptions = _objectSpread({\n              method: 'GET',\n              timeout: 10000,\n              json: true\n            }, url.parse(uri), options);\n            var req = http.request(requestOptions, function (res) {\n              res.setEncoding('utf8');\n              var data = '';\n              res.on('data', function (d) {\n                data += d;\n              });\n              res.once('end', function () {\n                if (options.json === false) {\n                  resolve(data);\n                  return;\n                }\n                try {\n                  var parsed = JSON.parse(data);\n                  resolve(parsed);\n                } catch (_unused) {\n                  // TODO(NODE-3483)\n                  reject(new error_1.MongoRuntimeError(\"Invalid JSON response: \\\"\".concat(data, \"\\\"\")));\n                }\n              });\n            });\n            req.once('timeout', function () {\n              return req.destroy(new error_1.MongoNetworkTimeoutError(\"Network request to \".concat(uri, \" timed out after \").concat(options.timeout, \" ms\")));\n            });\n            req.once('error', function (error) {\n              return reject(error);\n            });\n            req.end();\n          }));\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee2);\n  }));\n  return _request.apply(this, arguments);\n}\nexports.request = request;","map":{"version":3,"names":["crypto","require","http","url","url_1","bson_1","constants_1","constants_2","error_1","read_concern_1","read_preference_1","common_1","write_concern_1","exports","ByteUtils","toLocalBufferType","buffer","Buffer","isBuffer","from","byteOffset","byteLength","equals","seqA","seqB","compare","toBase64","uint8array","toString","hostMatchesWildcards","host","wildcards","_iterator","_createForOfIteratorHelper","_step","s","n","done","wildcard","value","startsWith","endsWith","substring","length","err","e","f","checkCollectionName","collectionName","MongoInvalidArgumentError","indexOf","match","normalizeHintField","hint","finalHint","undefined","Array","isArray","forEach","param","name","TO_STRING","object","Object","prototype","call","isObject","arg","mergeOptions","target","source","_objectSpread","filterOptions","options","names","includes","applyRetryableWrites","db","retryWrites","isPromiseLike","then","decorateWithCollation","command","capabilities","getTopology","collation","commandsTakeCollation","MongoCompatibilityError","decorateWithReadConcern","coll","session","inTransaction","readConcern","assign","keys","decorateWithExplain","explain","verbosity","provider","topology","client","MongoNotConnectedError","ns","MongoDBNamespace","fromString","collection","_classCallCheck","_createClass","key","concat","withCollection","MongoDBCollectionNamespace","namespace","MongoRuntimeError","_namespace$split","split","_namespace$split2","_toArray","collectionParts","slice","join","_MongoDBNamespace","_inherits","_this","_possibleConstructorReturn","_getPrototypeOf","_get","makeCounter","seed","arguments","_regeneratorRuntime","mark","_callee","count","newCount","wrap","_callee$","_context","prev","next","stop","maybeCallback","promiseFn","callback","promise","result","error","databaseNamespace","uuidV4","randomBytes","maxWireVersion","topologyOrServer","loadBalanced","MAX_SUPPORTED_WIRE_VERSION","hello","lastHello","description","eachAsync","arr","eachFn","idx","awaiting","eachCallback","arrayStrictEqual","arr2","every","elt","errorStrictEqual","lhs","rhs","constructor","message","makeStateMachine","stateTable","stateTransition","newState","legalStates","state","emit","now","hrtime","process","Math","floor","calculateDurationInMs","started","elapsed","hasAtomicOperators","doc","_iterator2","_step2","document","resolveOptions","parent","resolveBSONOptions","ReadConcern","fromOptions","writeConcern","WriteConcern","readPreference","ReadPreference","isSuperset","set","subset","Set","_iterator3","_step3","elem","has","isHello","LEGACY_HELLO_COMMAND","setDifference","setA","setB","difference","_iterator4","_step4","delete","HAS_OWN","prop","hasOwnProperty","isRecord","requiredKeys","ctor","deepCopy","map","item","res","toLowerCase","Number","Map","List","get","Symbol","toStringTag","head","toArray","iterator","_iterator5","_step5","node","value$","_context2","nodes","t0","finish","ptr","_ptr","nodes$","_context3","push","newNode","pushMany","iterable","_iterator6","_step6","unshift","remove","prevNode","nextNode","shift","pop","prune","filter","_iterator7","_step7","clear","first","last","BufferPool","buffers","totalByteLength","append","getInt32","firstBuffer","readInt32LE","top4Bytes","read","size","alloc","allocUnsafe","bytesRead","bytesRemaining","bytesReadable","min","bytes","subarray","HostAddress","hostString","port","socketPath","isIPv6","escapedHost","decodeURIComponent","urlString","URL","urlError","runtimeError","cause","hostname","normalized","parseInt","MongoParseError","freeze","for","inspect","toHostPort","fromHostPort","fromSrvRecord","_ref","DEFAULT_PK_FACTORY","createPk","ObjectId","MONGODB_WARNING_CODE","emitWarning","code","emittedWarnings","emitWarningOnce","add","enumToString","en","values","supportsRetryableWrites","server","logicalSessionTimeoutMinutes","type","ServerType","Standalone","shuffle","sequence","limit","items","remainingItemsToShuffle","lowerBound","randomIndex","random","swapHold","commandSupportsReadConcern","aggregate","distinct","find","geoNear","compareObjectId","oid1","oid2","id","parseInteger","trunc","parsedValue","String","isNaN","parseUnsignedInteger","parsedInt","matchesParentDomain","address","srvHost","normalizedAddress","normalizedSrvHost","allCharacterBeforeFirstDot","addressDomain","replace","srvHostDomain","request","_x","_request","apply","_asyncToGenerator","_callee2","uri","_args4","_callee2$","_context4","abrupt","Promise","resolve","reject","requestOptions","method","timeout","json","parse","req","setEncoding","data","on","d","once","parsed","JSON","_unused","destroy","MongoNetworkTimeoutError","end"],"sources":["../src/utils.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}