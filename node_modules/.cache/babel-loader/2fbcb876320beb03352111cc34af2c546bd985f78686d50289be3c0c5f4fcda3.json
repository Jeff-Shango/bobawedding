{"ast":null,"code":"var _jsxFileName = \"/home/jeffb/Desktop/bobawedding/src/weddingCommentServer/Comment.jsx\";\nimport React from 'react';\nimport jamaica from '../assets/jamaica.jpg';\n// import \"./api.js\"\nimport CommentForm from './CommentForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Comment = ({\n  comment,\n  replies,\n  currentUserId,\n  deleteComment,\n  updateComment,\n  activeComment,\n  addComment,\n  setActiveComment,\n  parentId = null\n}) => {\n  // const fiveMinutes = 300000;\n  // const timePassed = new Date() - new Date(comment.createdAt) > fiveMinutes;\n  // const canReply = Boolean(currentUserId)\n  // const canEdit = currentUserId === comment.userId && !timePassed;\n  // const canDelete = currentUserId === comment.userId && !timePassed;\n  const createdAt = new Date(comment.createdAt).toLocaleDateString();\n  const isReplying = activeComment && activeComment.type === 'replying' && activeComment.id === comment.id;\n  const isEditing = activeComment && activeComment.type === 'editing' && activeComment.id === comment.id;\n  const replyId = parentId ? parentId : comment.id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-image-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: jamaica,\n        alt: \"issaImage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-right-part\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-author\",\n          children: comment.comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: createdAt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this), !isEditing && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-text\",\n          children: comment.commentator\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 32\n        }, this), isEditing && /*#__PURE__*/_jsxDEV(CommentForm, {\n          submitLabel: \"Update\",\n          hasCancelButton: true,\n          initialText: comment.body,\n          handleSubmit: text => updateComment(text, comment.id),\n          handleCancel: () => setActiveComment(null)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-text\",\n        children: comment.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-actions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), isReplying && /*#__PURE__*/_jsxDEV(CommentForm, {\n        submitLabel: \"Reply\",\n        handleSubmit: text => addComment(text, replyId)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }, this), replies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"replies\",\n        children: replies.map(reply => /*#__PURE__*/_jsxDEV(Comment, {\n          comment: reply,\n          replies: [],\n          currentUserId: currentUserId,\n          deleteComment: deleteComment,\n          updateComment: updateComment,\n          addComment: addComment,\n          activeComment: activeComment,\n          setActiveComment: setActiveComment,\n          parentId: comment.id\n        }, reply.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_c = Comment;\nexport default Comment;\nvar _c;\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"names":["React","jamaica","CommentForm","jsxDEV","_jsxDEV","Comment","comment","replies","currentUserId","deleteComment","updateComment","activeComment","addComment","setActiveComment","parentId","createdAt","Date","toLocaleDateString","isReplying","type","id","isEditing","replyId","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","commentator","submitLabel","hasCancelButton","initialText","body","handleSubmit","text","handleCancel","length","map","reply","_c","$RefreshReg$"],"sources":["/home/jeffb/Desktop/bobawedding/src/weddingCommentServer/Comment.jsx"],"sourcesContent":["import React from 'react'\nimport jamaica from '../assets/jamaica.jpg'\n// import \"./api.js\"\nimport CommentForm from './CommentForm';\n\nconst Comment = ({ \n    comment, \n    replies, \n    currentUserId, \n    deleteComment, \n    updateComment,\n    activeComment,\n    addComment, \n    setActiveComment, \n    parentId = null, }) => {\n  // const fiveMinutes = 300000;\n  // const timePassed = new Date() - new Date(comment.createdAt) > fiveMinutes;\n  // const canReply = Boolean(currentUserId)\n  // const canEdit = currentUserId === comment.userId && !timePassed;\n  // const canDelete = currentUserId === comment.userId && !timePassed;\n  const createdAt = new Date(comment.createdAt).toLocaleDateString();\n  const isReplying = \n    activeComment && \n    activeComment.type === 'replying' && \n    activeComment.id === comment.id;\n  const isEditing = \n    activeComment &&\n    activeComment.type === 'editing' &&\n    activeComment.id === comment.id;\n  const replyId = parentId ? parentId : comment.id;\n  return (\n    <div className=\"comment\">\n        <div className=\"comment-image-container\">\n            <img src={jamaica} alt='issaImage'/>\n        </div>\n        <div className=\"comment-right-part\">\n            <div className=\"comment-content\">\n                <div className=\"comment-author\">{comment.comment}</div>\n                <div>{createdAt}</div>\n                {!isEditing && <div className='comment-text'>{comment.commentator}</div>}\n                {isEditing && (\n                  <CommentForm submitLabel=\"Update\" hasCancelButton initialText={comment.body}\n                  handleSubmit={(text) => updateComment(text, comment.id)} handleCancel={() => setActiveComment(null)}\n                  />\n                )}\n            </div>\n            <div className=\"comment-text\">{comment.body}</div>\n            <div className=\"comment-actions\">\n              {/* {canReply && <div className=\"comment-action\" onClick={() => setActiveComment({ id: comment.id, type: \"replying\"})}>Reply</div>}\n              {canEdit && <div className=\"comment-action\" onClick={() => setActiveComment({ id: comment.id, type: \"editing\"})}>Edit</div>}\n              {canDelete && <div className=\"comment-action\" onClick={() => deleteComment(comment.id)}>Delete</div>} */}\n            </div>\n            {isReplying && (\n              <CommentForm \n                submitLabel=\"Reply\" \n                handleSubmit={(text) => addComment(text, replyId)}\n                />\n            )}\n            {replies.length > 0 && (\n              <div className=\"replies\">\n                {replies.map(reply => (\n                  <Comment \n                    comment={reply} \n                    key={reply.id} \n                    replies={[]} \n                    currentUserId={currentUserId}\n                    deleteComment={deleteComment}\n                    updateComment={updateComment}\n                    addComment={addComment}\n                    activeComment={activeComment}\n                    setActiveComment={setActiveComment}\n                    parentId={comment.id}\n                     /> \n                ))}\n              </div>\n            )}\n        </div>\n    </div>\n  )\n}\n\nexport default Comment"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,uBAAuB;AAC3C;AACA,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,OAAO,GAAGA,CAAC;EACbC,OAAO;EACPC,OAAO;EACPC,aAAa;EACbC,aAAa;EACbC,aAAa;EACbC,aAAa;EACbC,UAAU;EACVC,gBAAgB;EAChBC,QAAQ,GAAG;AAAM,CAAC,KAAK;EACzB;EACA;EACA;EACA;EACA;EACA,MAAMC,SAAS,GAAG,IAAIC,IAAI,CAACV,OAAO,CAACS,SAAS,CAAC,CAACE,kBAAkB,CAAC,CAAC;EAClE,MAAMC,UAAU,GACdP,aAAa,IACbA,aAAa,CAACQ,IAAI,KAAK,UAAU,IACjCR,aAAa,CAACS,EAAE,KAAKd,OAAO,CAACc,EAAE;EACjC,MAAMC,SAAS,GACbV,aAAa,IACbA,aAAa,CAACQ,IAAI,KAAK,SAAS,IAChCR,aAAa,CAACS,EAAE,KAAKd,OAAO,CAACc,EAAE;EACjC,MAAME,OAAO,GAAGR,QAAQ,GAAGA,QAAQ,GAAGR,OAAO,CAACc,EAAE;EAChD,oBACEhB,OAAA;IAAKmB,SAAS,EAAC,SAAS;IAAAC,QAAA,gBACpBpB,OAAA;MAAKmB,SAAS,EAAC,yBAAyB;MAAAC,QAAA,eACpCpB,OAAA;QAAKqB,GAAG,EAAExB,OAAQ;QAACyB,GAAG,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnC,CAAC,eACN1B,OAAA;MAAKmB,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBAC/BpB,OAAA;QAAKmB,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC5BpB,OAAA;UAAKmB,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAElB,OAAO,CAACA;QAAO;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACvD1B,OAAA;UAAAoB,QAAA,EAAMT;QAAS;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EACrB,CAACT,SAAS,iBAAIjB,OAAA;UAAKmB,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAElB,OAAO,CAACyB;QAAW;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EACvET,SAAS,iBACRjB,OAAA,CAACF,WAAW;UAAC8B,WAAW,EAAC,QAAQ;UAACC,eAAe;UAACC,WAAW,EAAE5B,OAAO,CAAC6B,IAAK;UAC5EC,YAAY,EAAGC,IAAI,IAAK3B,aAAa,CAAC2B,IAAI,EAAE/B,OAAO,CAACc,EAAE,CAAE;UAACkB,YAAY,EAAEA,CAAA,KAAMzB,gBAAgB,CAAC,IAAI;QAAE;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnG,CACF;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACN1B,OAAA;QAAKmB,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAElB,OAAO,CAAC6B;MAAI;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAClD1B,OAAA;QAAKmB,SAAS,EAAC;MAAiB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAI3B,CAAC,EACLZ,UAAU,iBACTd,OAAA,CAACF,WAAW;QACV8B,WAAW,EAAC,OAAO;QACnBI,YAAY,EAAGC,IAAI,IAAKzB,UAAU,CAACyB,IAAI,EAAEf,OAAO;MAAE;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD,CACJ,EACAvB,OAAO,CAACgC,MAAM,GAAG,CAAC,iBACjBnC,OAAA;QAAKmB,SAAS,EAAC,SAAS;QAAAC,QAAA,EACrBjB,OAAO,CAACiC,GAAG,CAACC,KAAK,iBAChBrC,OAAA,CAACC,OAAO;UACNC,OAAO,EAAEmC,KAAM;UAEflC,OAAO,EAAE,EAAG;UACZC,aAAa,EAAEA,aAAc;UAC7BC,aAAa,EAAEA,aAAc;UAC7BC,aAAa,EAAEA,aAAc;UAC7BE,UAAU,EAAEA,UAAW;UACvBD,aAAa,EAAEA,aAAc;UAC7BE,gBAAgB,EAAEA,gBAAiB;UACnCC,QAAQ,EAAER,OAAO,CAACc;QAAG,GARhBqB,KAAK,CAACrB,EAAE;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OASX,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV,CAAC;AAAAY,EAAA,GA1EKrC,OAAO;AA4Eb,eAAeA,OAAO;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}