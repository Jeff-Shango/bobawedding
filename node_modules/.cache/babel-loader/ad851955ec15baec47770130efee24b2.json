{"ast":null,"code":"import _slicedToArray from \"/home/jeff/bobawedding/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/home/jeff/bobawedding/src/weddingCommentServer/Comments.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { getComments } from './WeddingServer/index.js';\n// import { \n//     getComments as getCommentsApi, \n//     createComment as createCommentApi,\n//     deleteComment as deleteCommentApi,\n//     updateComment as updateCommentApi } from './WeddingServer/api.js'\nimport WedComment from './Comment.jsx';\nimport CommentForm from './CommentForm.jsx';\n\n// import CommentForm from './CommentForm';\nvar WedComments = function WedComments(_ref) {\n  var currentUserId = _ref.currentUserId;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    backendComments = _useState2[0],\n    setBackendComments = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    activeComment = _useState4[0],\n    setActiveComment = _useState4[1];\n  var rootComments = backendComments.filter(function (backendComment) {\n    return backendComment.parentId === null;\n  });\n  //     const getReplies = commendId => {\n  //         return backendComments\n  //         .filter((backendComment) => backendComment.parentId === commendId)\n  //         .sort(\n  //             (a, b) => \n  //                 new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\n  //         );\n  //     };\n  //     const addComment = (text, parentId) => {\n  //         console.log(\"addComment\", text, parentId);\n  //         createCommentApi(text, parentId).then(comment => {\n  //             setBackendComments([comment, ...backendComments])\n  //             setActiveComment(null)\n  //         })\n  //     };\n\n  //     const deleteComment = (commentId) => {\n  // if (window.confirm('Sure about deleting this?')) {\n  //     deleteCommentApi(commentId).then(() => {\n  //         const updatedBackendComments = backendComments.filter((backendComment) => backendComment.id !== commentId);\n  //         setBackendComments(updatedBackendComments);\n  //     })\n  // }\n  //     }\n\n  //     const updateComment = (text, commentId) => {\n  //         updateCommentApi(text, commentId).then(() => {\n  //             const updatedBackendComments = backendComments.map(backendComment => {\n  //                 if (backendComment.id === commentId) {\n  //                     return { ...backendComment, body: text };\n  //                 }\n  //                 return backendComment;\n  //             });\n  //             setBackendComments(updatedBackendComments);\n  //             setActiveComment(null)\n  //         });\n  //     };\n\n  //     useEffect(() => {\n  //     getCommentsApi().then((data) => {\n  //         setBackendComments(data);\n  //     });\n  //     }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comments\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"comments-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-form-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Write Comment\"), /*#__PURE__*/React.createElement(CommentForm, {\n    submitLabel: \"Write\",\n    handleSubmit: addComment,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comments-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, rootComments.map(function (rootComment) {\n    return /*#__PURE__*/React.createElement(WedComment, {\n      key: rootComment.id,\n      comment: rootComment,\n      replies: getReplies(rootComment.id),\n      currentUserId: currentUserId,\n      deleteComment: deleteComment,\n      updateComment: updateComment,\n      activeComment: activeComment,\n      setActiveComment: setActiveComment,\n      addComment: addComment,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    });\n  })));\n};\nexport default WedComments;","map":{"version":3,"names":["React","useEffect","useState","getComments","WedComment","CommentForm","WedComments","_ref","currentUserId","_useState","_useState2","_slicedToArray","backendComments","setBackendComments","_useState3","_useState4","activeComment","setActiveComment","rootComments","filter","backendComment","parentId","createElement","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","submitLabel","handleSubmit","addComment","map","rootComment","key","id","comment","replies","getReplies","deleteComment","updateComment"],"sources":["/home/jeff/bobawedding/src/weddingCommentServer/Comments.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { getComments } from './WeddingServer/index.js';\n// import { \n//     getComments as getCommentsApi, \n//     createComment as createCommentApi,\n//     deleteComment as deleteCommentApi,\n//     updateComment as updateCommentApi } from './WeddingServer/api.js'\nimport WedComment from './Comment.jsx';\nimport CommentForm from './CommentForm.jsx';\n\n// import CommentForm from './CommentForm';\nconst WedComments = ({ currentUserId }) => {\n    const [backendComments, setBackendComments] = useState([]);\n    const [activeComment, setActiveComment] = useState(null)\n    const rootComments = backendComments.filter(\n        (backendComment) => backendComment.parentId === null\n    );\n//     const getReplies = commendId => {\n//         return backendComments\n//         .filter((backendComment) => backendComment.parentId === commendId)\n//         .sort(\n//             (a, b) => \n//                 new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\n//         );\n//     };\n//     const addComment = (text, parentId) => {\n//         console.log(\"addComment\", text, parentId);\n//         createCommentApi(text, parentId).then(comment => {\n//             setBackendComments([comment, ...backendComments])\n//             setActiveComment(null)\n//         })\n//     };\n    \n//     const deleteComment = (commentId) => {\n// if (window.confirm('Sure about deleting this?')) {\n//     deleteCommentApi(commentId).then(() => {\n//         const updatedBackendComments = backendComments.filter((backendComment) => backendComment.id !== commentId);\n//         setBackendComments(updatedBackendComments);\n//     })\n// }\n//     }\n\n//     const updateComment = (text, commentId) => {\n//         updateCommentApi(text, commentId).then(() => {\n//             const updatedBackendComments = backendComments.map(backendComment => {\n//                 if (backendComment.id === commentId) {\n//                     return { ...backendComment, body: text };\n//                 }\n//                 return backendComment;\n//             });\n//             setBackendComments(updatedBackendComments);\n//             setActiveComment(null)\n//         });\n//     };\n\n//     useEffect(() => {\n//     getCommentsApi().then((data) => {\n//         setBackendComments(data);\n//     });\n//     }, []);\n  return (\n    <div className='comments'>\n        <h3 className=\"comments-title\">Comments</h3>\n        <div className=\"comment-form-title\">Write Comment</div>\n        <CommentForm submitLabel=\"Write\" handleSubmit={addComment}/>\n        <div className=\"comments-container\">\n            {rootComments.map(rootComment => (\n                <WedComment \n                key={rootComment.id} \n                comment={rootComment} \n                replies={getReplies(rootComment.id)} \n                currentUserId={currentUserId}\n                deleteComment={deleteComment}\n                updateComment={updateComment}\n                activeComment={activeComment}\n                setActiveComment={setActiveComment}\n                addComment={addComment}\n                />\n                \n            ))}\n        </div>\n    </div>\n  )\n}\n\nexport default WedComments"],"mappings":"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"},"metadata":{},"sourceType":"module"}