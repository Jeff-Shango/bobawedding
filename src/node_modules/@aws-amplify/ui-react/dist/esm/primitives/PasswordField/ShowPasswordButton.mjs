import{__rest as s}from"tslib";import*as o from"react";import r from"classnames";import{Button as i}from"../Button/Button.mjs";import{VisuallyHidden as e}from"../VisuallyHidden/VisuallyHidden.mjs";import{ComponentClassNames as a,ComponentText as t}from"../shared/constants.mjs";import"../Icon/Icon.mjs";import"../Icon/context/IconsContext.mjs";import{useIcons as l}from"../Icon/context/useIcons.mjs";import"../View/View.mjs";import{IconVisibilityOff as n}from"../Icon/icons/IconVisibilityOff.mjs";import{IconVisibility as d}from"../Icon/icons/IconVisibility.mjs";import{classNameModifierByFlag as m}from"@aws-amplify/ui";const{passwordIsHidden:w,passwordIsShown:p,showPassword:c}=t.PasswordField,f=o.forwardRef(((t,f)=>{var u,I,{fieldType:h,passwordIsHiddenLabel:b=w,passwordIsShownLabel:j=p,showPasswordButtonLabel:y=c,size:v,hasError:L}=t,P=s(t,["fieldType","passwordIsHiddenLabel","passwordIsShownLabel","showPasswordButtonLabel","size","hasError"]);const E=l("passwordField"),S=r(a.FieldShowPassword,m(a.FieldShowPassword,"error",L)),V="password"===h?null!==(u=null==E?void 0:E.visibility)&&void 0!==u?u:o.createElement(d,null):null!==(I=null==E?void 0:E.visibilityOff)&&void 0!==I?I:o.createElement(n,null);return o.createElement(i,Object.assign({"aria-checked":"password"!==h,ariaLabel:y,className:S,ref:f,role:"switch",size:v},P),o.createElement(e,{"aria-live":"polite"},"password"===h?b:j),V)}));f.displayName="ShowPasswordButton";export{f as ShowPasswordButton};
